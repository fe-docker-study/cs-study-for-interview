## 인터럽트

인터럽트란 CPU가 특정 기능을 수행하는 도중에 급하게 다른 일을 처리하고자 할 때 사용할 수 있는 기능이다.

![스크린샷 2022-02-07 오후 8 50 58](https://user-images.githubusercontent.com/31172248/152799658-07e97a12-7656-4e4e-9457-235f48f4ee06.png)



## 인터럽트의 내부 동작 과정

시스템콜 실행을 위해 강제로 코드에 인터럽트 명령을 넣어 CPU에게 실행시킨다.

```
mov eax, 1
mov ebx, 0
int 0x80 // 소프트웨어 인터럽트 명령 = cpu opcodoe + 인터럽트 번호
```
![스크린샷 2022-02-07 오후 9 17 33](https://user-images.githubusercontent.com/31172248/152799645-a9a1aadd-9fe0-4883-8e7c-16cfdde554e2.png)
1. 위와 같은 opcode를 받으면 cpu는 사용자 모드를 커널모드로 바꿔준다.
2. IDT(Interrupt Descriptor Table)에서 0x80에 해당하는 주소를 찾아서 실행한다.
3. system_call() 함수에서 eax로부터 시스템 콜 번호를 찾아서, 해당 번호에 맞는 시스템 콜 함수로 이동한다.
4. 해당 시스템 콜 함수 실행 후, 다시 커널 모드에서 사용자 모드로 변경하고 다시 해당 프로세스 다음 코드를 진행한다.
![스크린샷 2022-02-07 오후 9 21 09](https://user-images.githubusercontent.com/31172248/152799654-e4e481b3-16a6-41c4-aa92-74eee3759260.png)
### 사용자/커널 모드와 프로세스, 인터럽트
